<section>
    <div id="fest-container" class="fest-container">
        <div class="fest-home">
            {{!-- Alert --}}
            {{#if PointCategory.status}}
            <div class="alert-fest-home">
                <div class="alert">
                    <i class="bi bi-exclamation-circle-fill"></i>
                    <h4>Create point category before creating an event !</h4>
                </div>
            </div>
            {{/if}}
            {{#if sessionactive.pending}}
            <div class="alert-fest-home">
                <div class="alert">
                    <i class="bi bi-exclamation-circle-fill"></i>
                    <h4>The session is not active in {{sessionactive.pending}} groups</h4>
                </div>
            </div>
            {{/if}}
              {{!-- Timer --}}
            <div id="countdownDiv" style="display: none;">
                <div class="countdown" style="margin-top: 30px; margin-bottom:30px;">
                    <div>
                        <div class="title">
                            <h3 id="timerTitle">fest will start soon !</h3>
                        </div>
                        <div class="timer-div">
                            <div class="container-day">
                                <h1 id="day" style="color: rgb(0, 92, 145);" class="day">--</h1>
                                <h4>Days</h4>
                            </div>
                            <div class="container-day">
                                <h1 id="Hour" style="color: rgb(0, 92, 145);" class="hour">--</h1>
                                <h4>Hours</h4>
                            </div>
                            <div class="container-day">
                                <h1 id="Minute" style="color: rgb(0, 92, 145);" class="minute">--</h1>
                                <h4>Minutes</h4>
                            </div>
                            <div class="container-day">
                                <h1 id="Second" style="color: rgb(0, 92, 145);" class="second">--</h1>
                                <h4>Seconds</h4>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            {{!-- Header --}}
            <div class="header-fest-home">
                <div class="groupProfileborder" style="background: none; margin-top:25px">
                    <div class="Content" style="padding: 0;">
                        <div class="festContent">
                            <div class="festContentBorder" style="border-color: var(--color-two);">
                                <h3 style="background-color: white;">Fest details</h3>
                                <div class="header">
                                    <p>Tittle </p>
                                    <p>Fest ID </p>
                                    <p>Convener </p>
                                    <p>Date </p>

                                </div>
                                <div class="answer">
                                    <p>: {{FestDetails.FestName}}</p>
                                    <p>: {{FestDetails.FestId}}</p>
                                    <p>: {{FestDetails.FestConvener}}</p>
                                    <p>: <span id="nowFestDate">{{FestDetails.FestDate}}</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {{!-- Status --}}
            <div class="status-fest-home">
                <div class="fivteen" style="padding:5px">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; border:solid black 1px; border-radius:10px;">
                        <div class="resultContentBoreder">
                            <div class="boarder">
                                <h4>Status of user</h4>
                                {{#if StatusUserResult.user}}
                                <button style=" " class="button">ON</button>
                                {{else}}
                                <button
                                    style="color: var(--color-delete); background-color:rgb(255, 187, 184); border-color:var(--color-delete)"
                                    class="button">OFF</button>
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="fivteen" style="padding:5px">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; border:solid black 1px; border-radius:10px;">
                        <div class="resultContentBoreder">
                            <div class="boarder">
                                <h4>Status of result</h4>
                                {{#if StatusUserResult.result}}
                                <button style="" class="button">ON</button>
                                {{else}}
                                <button
                                    style="color: var(--color-delete); background-color:rgb(255, 187, 184); border-color:var(--color-delete)"
                                    class="button">OFF</button>
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>
                {{#each sessionactive}}
                <div class="fivteen" style="padding:5px">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; border:solid black 1px; border-radius:10px;">
                        <div class="resultContentBoreder">
                            <div class="boarder">
                                <h4>{{this.GroupName}} session status</h4>
                                {{#if this.Session}}
                                <button style="" class="button">Active</button>
                                {{else}}
                                <button
                                    style="color: var(--color-delete); background-color:rgb(255, 187, 184); border-color:var(--color-delete)"
                                    class="button">Deactive</button>
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>
                {{/each}}
                <div class="fivteen" style="padding:5px">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; border:solid black 1px; border-radius:10px;">
                        <div class="resultContentBoreder">
                            <div class="boarder">
                                <h4>Status of Fest</h4>
                                {{#if FestFullDetails.festStatus}}
                                <button style="" class="button">Complete</button>
                                {{else}}
                                <button
                                    style="color: rgb(0, 124, 161); background-color:rgb(205, 243, 255); border-color:rgb(0, 124, 161);"
                                    class="button">Renning</button>
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {{!-- Content --}}

            <div class="content-fest-home" style="margin-top: 10px;">

                <div class="Twenty-five">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; background-color: rgb(0, 48, 104); border-radius:10px;">
                        <div class="fest-content-div">
                            <div class="count">
                                <h1>{{FestDetails.NumberGroups}}<i class="bi bi-slack"></i></h1>
                            </div>
                            <div class="content">
                                <h4>Total Groups</h4>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="Twenty-five">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; background-color: rgb(0, 100, 70); border-radius:10px;">
                        <div class="fest-content-div">
                            <div class="count">
                                <h1>{{FestDetails.NumberSessions}}<i class="bi bi-subtract"></i></h1>
                            </div>
                            <div class="content"
                                style="display: flex; align-items:center; justify-content:space-between;">
                                <h4>Total Sessions </h4>
                                <span style="font-size: 12px; font-style:italic; opacity:.5;">Without General</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="Twenty-five">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; background-color: rgb(146, 2, 2); border-radius:10px;">
                        <div class="fest-content-div">
                            <div class="count">
                                <h1>{{totalStudentsDetails.totalCount}}<i class="bi bi-people-fill"></i></h1>
                            </div>
                            <div class="content">
                                <h4>Total Students</h4>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="Twenty-five">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; background-color: rgb(55, 0, 92); border-radius:10px;">
                        <div class="fest-content-div">
                            <div class="count">
                                <h1>{{EventDetails.TotalEvents}}<i class="bi bi-calendar2-event-fill"></i></h1>
                            </div>
                            <div class="content">
                                <h4>Total Events</h4>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="Twenty-five">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; background-color: rgb(0, 68, 9); border-radius:10px;">
                        <div class="fest-content-div">
                            <div class="count">
                                <h1>{{PointCategory.count}}<i class="bi bi-bookmarks-fill"></i></h1>
                            </div>
                            <div class="content">
                                <h4>Point category</h4>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="Twenty-five">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; background-color: rgb(148, 0, 57); border-radius:10px;">
                        <div class="fest-content-div">
                            <div class="count">
                                <h1>{{EventDetails.Published}}<i class="bi bi-bar-chart-line-fill"></i></h1>
                            </div>
                            <div class="content">
                                <h4>Published results<span style="margin-left: 10px; color:rgb(0, 230, 0);"><i
                                            class="bi bi-chevron-double-up"></i>{{EventDetails.Percentage}}%</span></h4>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="Twenty-five">
                    <div class="resultBorder"
                        style="height: auto; box-shadow: none; background-color: rgb(0, 87, 122); border-radius:10px;">
                        <div class="fest-content-div">
                            <div class="count">
                                <h1>{{EventDetails.Pending}}<i class="bi bi-stoplights-fill"></i></h1>
                            </div>
                            <div class="content">
                                <h4>Pending results</h4>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="Twenty-five" style="cursor: pointer;">
                    <a href="/fest-admin/{{FestDetails.FestId}}/student/student-without-program">
                        <div class="resultBorder"
                            style="height: auto; box-shadow: none; background-color: rgb(80, 82, 83); border-radius:10px;">
                            <div class="fest-content-div">
                                <div class="count">
                                    <h1>{{totalStudentsDetails.StudnetWithOutCount}}<i class="bi bi-folder-x"></i></h1>
                                </div>
                                <div class="content">
                                    <h4>Student without program</h4>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        {{!-- <div style="display: none;" id="notAllow" class="pointTable-nodataDiv">
            <div class="pointTabel-div">
                <div class="pointTable-IconDiv">

                    <i class="bi bi-phone"></i>
                </div>

                <p>Not Allow Mobile</p>

            </div>
        </div> --}}

    </div>

</section>

<script>
    var current = document.getElementById('home').className = "sidebarmenus sidebarmenus-active"

</script>


{{!-- Device found --}}
{{!-- 
<script>

    var container = document.getElementById('fest-container')
    var notAllow = document.getElementById('notAllow')

    let Androids = "Android"
    Androids = new RegExp('(\\w*' + Androids + '\\w*)', 'gi');
    let ioss = "iphone"
    ioss = new RegExp('(\\w*' + ioss + '\\w*)', 'gi');

    var AndroidMobile = platform.description.match(Androids);
    var iphone = platform.description.match(ioss);
    if (AndroidMobile) {
        notAllow.style.display = "block"
        container.innerHTML = null
        container.appendChild(notAllow)
    } else if (iphone) {
        notAllow.style.display = "block"
        container.innerHTML = null
        container.appendChild(notAllow)
    } 


</script> --}}


{{!-- Timer --}}
<script>

    let nowFestDate = document.getElementById('nowFestDate').innerHTML;

    if (nowFestDate[1] == " ") {
        nowFestDate = "0" + nowFestDate
    }

    let monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

    let nowFestYear = nowFestDate.slice(11, 16)
    let nowFestMonth = nowFestDate.slice(5, 8)
    let nowFestDay = nowFestDate.slice(0, 2)

    var nowFestFullDate = nowFestMonth + " " + nowFestDay + ", " + nowFestYear + " 09:00:00"
    const countdown = () => {
        const countDate = new Date(nowFestFullDate).getTime();
        const now = new Date().getTime()


        const gap = countDate - now;

        // How the fuck does time work ?
        const second = 1000;
        const minute = second * 60
        const hour = minute * 60
        const day = hour * 24

        // calculate the shit
        let textDay = Math.floor(gap / day);
        let textHour = Math.floor((gap % day) / hour)
        let textMinte = Math.floor((gap % hour) / minute)
        let textSecond = Math.floor((gap % minute) / second)

        // 



        if (textDay < 10) {
            textDay = "0" + textDay
        }
        if (textHour < 10) {
            textHour = "0" + textHour
        }
        if (textMinte < 10) {
            textMinte = "0" + textMinte
        }
        if (textSecond < 10) {
            textSecond = "0" + textSecond
        }

        document.querySelector(".day").innerText = textDay
        document.querySelector(".hour").innerText = textHour
        document.querySelector(".minute").innerText = textMinte
        document.querySelector(".second").innerText = textSecond
        document.getElementById('countdownDiv').style.display = "block"

        if (textSecond[1] == "-") {
           document.getElementById('countdownDiv').style.display = "none"

        }
       


    }

    const intervel = setInterval(countdown, 1000)
    if (textSecond[1] == "-") {
        clearInterval(intervel)
    }

</script>