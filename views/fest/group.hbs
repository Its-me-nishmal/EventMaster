<section>
    <div class="fest-container">
        <div class="groupsmainDiv">
            <div class="pointTable-header">
                <h4 class="adminHome-sectin-one-SubHeading">All groups</h4>
                <hr>
            </div>
            <div class="groups-content">
                <div class="allGroupsTableDiv">
                    <table id="allGroup-table" class="auto-index">
                        <thead>
                            <tr>
                                <th>Sl no</th>
                                <th>Group name</th>
                                <th>Group ID</th>
                                <th>Convener</th>
                                <th>Password</th>
                                <th>Control</th>

                            </tr>
                        </thead>
                        <tbody>
                            {{#each AllGroups}}
                            <tr>
                                <td></td>
                                <!--leave it blank-->
                                <td>{{this.GroupName}}</td>
                                <td>{{this.GroupId}}</td>
                                <td>{{this.Convener}}</td>
                                <td>{{this.PasswordFor}}</td>
                                {{#if this.GroupId}}
                                <td><a href="/admin/{{../FestDetails.FestId}}/groups/{{this.GroupId}}/view"><button
                                            class="allGroupsViewButton"> <i class="bi bi-eye-fill"></i>
                                            View</i></button></a>
                                </td>
                                {{else}}
                                <td>

                                    <button class="allGroupsConfiermButton"
                                        onclick="GroupConfierm('{{../FestDetails.FestId}}','{{this.GroupName}}')"> <i
                                            class="bi bi-check-lg"></i>
                                        Activate</button>

                                </td>
                                {{/if}}

                            </tr>

                            {{/each}}



                        </tbody>
                    </table>
                </div>
                <div class="pointTable-printbutton">
                    <button class="print-button" onclick="PrintDiv('print-container','nsaonline.in')"><i
                            class="bi bi-printer-fill"></i>
                        Print</button>
                    <button style="background-color: rgb(37, 37, 37);" class="print-button"
                        onclick="PrintDiv('print-container-password','nsaonline.in')"><i class="bi bi-printer-fill"></i>
                        Print with password</button>

                </div>
                <div id="FestLoginPopup">

                </div>

            </div>
        </div>
    </div>
</section>


{{!-- print side --}}
<div hidden id="print-container">

    <head>
        <link rel='stylesheet' href='/stylesheets/admin/print.css' />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    </head>
    <table class="printTable-border">
        <thead>
            <tr>
                <td>
                    <div class="printHeader">
                    </div>
                </td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <div class="printContent">

                        <table class="auto-index print-Table">
                            {{#if AllGroups.[0]}}
                            <thead>
                                <tr>
                                    <th>Sl no</th>
                                    <th>Group name</th>
                                    <th>Group ID</th>
                                    <th>Convener</th>

                                    <th>Status</th>

                                </tr>
                            </thead>
                            <tbody>
                                {{#each AllGroups}}
                                <tr>
                                    {{#if this.GroupId}}
                                    <td></td>
                                    <!--leave it blank-->
                                    <td>{{this.GroupName}}</td>
                                    <td>{{this.GroupId}}</td>
                                    <td>{{this.Convener}}</td>
                                    <td> activated </a>

                                    </td>
                                    {{else}}
                                    <td></td>
                                    <td>{{this.GroupName}}</td>
                                    <td> - </td>
                                    <td> - </td>
                                    <td>
                                        Not activated
                                    </td>
                                    {{/if}}

                                </tr>

                                {{/each}}



                            </tbody>
                            {{else}}
                            <div class="pointTable-nodataDiv">
                                <p style="text-align: center;">No data available...</p>
                            </div>
                            {{/if}}
                        </table>

                    </div>
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td>
                    <div class="printFooter">

                    </div>

                </td>
            </tr>
        </tfoot>
    </table>

    <div class="print-header-space">
        <div class="print-header-conternt">
            <div>
                <img src="/images/fest-logo/{{FestDetails.FestId}}.jpg" onerror="this.onerror=null;callfun(this);"
                    alt="Fest Logo">
                <div>
                    <h2>{{FestDetails.FestName}} </h2>
                    <h4>FestID : {{FestDetails.FestId}}</h4>
                    <p> Fest Date :{{FestDetails.FestDate}} </p>
                </div>
            </div>
            <div class="sessionTwo">
                <div>
                    <p style="font-weight: bold;"> NOORUL HUDA STUDENTS ASSOCIATION (NSA) </p>
                    <p> Run by: Majma'a Wafy College - Kavanur </p>
                    <p style="font-size: 14px;"> Rahmath nagar, Kavanur P.O, Areekode</p>
                </div>

            </div>
        </div>
        <div class="print-page-headline">
            <h4> - ALL GROUPS - </h4>
        </div>
    </div>

    <div class="print-footer-space">
        <i class="bi bi-globe"></i>
        <p>www.nsaonline.in</p>
        <i class="bi bi-envelope"></i>
        <p>nsamajmaakvr@gmail.com</p>
        <i class="bi bi-instagram"></i>
        <i class="bi bi-facebook"></i>
        <i class="bi bi-youtube"></i>
        <i class="bi bi-telegram"></i>
        <p>/follow us</p>
    </div>
</div>


{{!-- print side --}}
<div hidden id="print-container-password">

    <head>
        <link rel='stylesheet' href='/stylesheets/admin/print.css' />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    </head>
    <table class="printTable-border">
        <thead>
            <tr>
                <td>
                    <div class="printHeader">
                    </div>
                </td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <div class="printContent">

                        <table class="auto-index print-Table">
                            {{#if AllGroups.[0]}}
                            <thead>
                                <tr>
                                    <th>Sl no</th>
                                    <th>Group name</th>
                                    <th>Group ID</th>
                                    <th>Convener</th>
                                    <th>Password</th>

                                </tr>
                            </thead>
                            <tbody>
                                {{#each AllGroups}}
                                {{#if this.GroupId}}
                                <tr>
                                    <td></td>
                                    <!--leave it blank-->
                                    <td>{{this.GroupName}}</td>
                                    <td>{{this.GroupId}}</td>
                                    <td>{{this.Convener}}</td>
                                    <td>{{this.PasswordFor}}</td>
                                    {{else}}
                                    <td></td>
                                    <td>{{this.GroupName}}</td>
                                    <td colspan="3">
                                        Not activated
                                    </td>
                                    {{/if}}

                                </tr>

                                {{/each}}



                            </tbody>
                            {{else}}
                            <div class="pointTable-nodataDiv">
                                <p style="text-align: center;">No data available...</p>
                            </div>
                            {{/if}}
                        </table>

                    </div>
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td>
                    <div class="printFooter">

                    </div>

                </td>
            </tr>
        </tfoot>
    </table>

    <div class="print-header-space">
        <div class="print-header-conternt">
            <div>
                <img src="/images/fest-logo/{{FestDetails.FestId}}.jpg" onerror="this.onerror=null;callfun(this);"
                    alt="Fest Logo">
                <div>
                    <h2>{{FestDetails.FestName}} </h2>
                    <h4>FestID : {{FestDetails.FestId}}</h4>
                    <p> Fest Date :{{FestDetails.FestDate}} </p>
                </div>
            </div>
            <div class="sessionTwo">
                <div>
                    <p style="font-weight: bold;"> NOORUL HUDA STUDENTS ASSOCIATION (NSA) </p>
                    <p> Run by: Majma'a Wafy College - Kavanur </p>
                    <p style="font-size: 14px;"> Rahmath nagar, Kavanur P.O, Areekode</p>
                </div>

            </div>
        </div>
        <div class="print-page-headline">
            <h4> - ALL GROUPS - </h4>
        </div>
    </div>

    <div class="print-footer-space">
        <i class="bi bi-globe"></i>
        <p>www.nsaonline.in</p>
        <i class="bi bi-envelope"></i>
        <p>nsamajmaakvr@gmail.com</p>
        <i class="bi bi-instagram"></i>
        <i class="bi bi-facebook"></i>
        <i class="bi bi-youtube"></i>
        <i class="bi bi-telegram"></i>
        <p>/follow us</p>
    </div>
</div>




{{!-- active button --}}
<script>
    var current = document.getElementById('groups').className = "sidebarmenus sidebarmenus-active"

</script>

{{!-- table jqury --}}
<script>
    $(document).ready(function () {
        $('#allGroup-table').DataTable();
    });
</script>
{{!-- table auto sl no --}}
<style>
    body {
        counter-reset: Serial;
        /* Set the Serial counter to 0 */
    }

    table {
        border-collapse: separate;
    }

    .auto-index td:first-child:before {
        counter-increment: Serial;
        /* Increment the Serial counter */
        content: counter(Serial);
        /* Display the counter */
    }
</style>

<script>
    function GroupConfierm(FestId, GroupName) {

        const mainDiv = document.getElementById('FestLoginPopup');
        const borderDiv = document.createElement("div")
        const ContentDiv = document.createElement("div")
        const form = document.createElement("form")
        const formDiv1 = document.createElement("div")
        const formDiv2 = document.createElement("div")
        const label = document.createElement("label")
        const input = document.createElement("input")
        const button = document.createElement("button")
        const CloseIcon = document.createElement("i")


        borderDiv.className = "festLoginPopupDiv";
        ContentDiv.className = "admin-login-content";
        form.action = "/admin/" + FestId + "/groups/" + GroupName + "/confierm";
        form.method = "POST";
        formDiv1.className = "admin-login-form";
        formDiv2.className = "admin-login-form";
        label.innerHTML = "Group convener name";
        input.type = "text";
        input.name = "Convener";
        input.autofocus = "true"
        input.required = "true"
        button.type = "submit";
        button.innerHTML = "Activate group";
        CloseIcon.className = "bi bi-x-lg festLogin-closeIcon"
        CloseIcon.onclick = function () {

            var div = this.parentElement;
            div.remove();
        }
        mainDiv.innerHTML = null
        mainDiv.appendChild(borderDiv)
        borderDiv.appendChild(CloseIcon)
        borderDiv.appendChild(ContentDiv)
        ContentDiv.appendChild(form)
        form.appendChild(formDiv1)
        form.appendChild(formDiv2)
        formDiv1.appendChild(label)
        formDiv1.appendChild(input)
        formDiv2.appendChild(button)


    }
</script>